# Портал регистрации на мастер-классы

Веб-приложение на Flask для управления регистрацией на мастер-классы с тремя типами пользователей: обычные пользователи, создатели ивентов и администраторы.

## Структура проекта

```
masterclass-registration-portal/
├── app.py                  # Главный файл Flask приложения
├── config.py              # Конфигурация приложения
├── extensions.py           # Инициализация Flask расширений
├── models.py              # SQLAlchemy модели данных
├── init_db.py             # Скрипт инициализации базы данных
├── test_setup.py          # Тесты для проверки настройки
├── requirements.txt       # Зависимости Python
├── .env.example          # Пример файла окружения
├── templates/            # HTML шаблоны
│   ├── admin/           # Шаблоны административной панели
│   ├── creator/         # Шаблоны панели создателя ивентов
│   ├── public/          # Публичные шаблоны
│   └── errors/          # Шаблоны страниц ошибок
└── static/              # Статические файлы
    ├── css/            # CSS стили
    ├── js/             # JavaScript файлы
    └── images/         # Изображения
```

## Модели данных

### User
Базовая модель пользователя с ролевой системой:
- `id`: Уникальный идентификатор
- `email`: Email адрес (уникальный)
- `password_hash`: Хэш пароля
- `name`: Имя пользователя
- `phone`: Телефон
- `role`: Роль ('user', 'event_creator', 'admin')
- `is_active`: Активен ли пользователь
- `created_at`: Дата создания

### EventCreator
Модель создателя ивентов (расширение пользователя):
- `id`: Уникальный идентификатор
- `user_id`: Связь с пользователем
- `company_name`: Название компании
- `description`: Описание
- `verified`: Верифицирован ли создатель
- `created_at`: Дата создания

### Masterclass
Модель мастер-класса:
- `id`: Уникальный идентификатор
- `creator_id`: Связь с создателем
- `title`: Название
- `description`: Описание
- `date_time`: Дата и время проведения
- `max_participants`: Максимальное количество участников
- `current_participants`: Текущее количество участников
- `price`: Стоимость
- `category`: Категория
- `is_active`: Активен ли мастер-класс
- `created_at`, `updated_at`: Даты создания и обновления

### Registration
Модель регистрации на мастер-класс:
- `id`: Уникальный идентификатор
- `masterclass_id`: Связь с мастер-классом
- `user_name`: Имя участника
- `user_email`: Email участника
- `user_phone`: Телефон участника
- `registered_at`: Дата регистрации

**Ограничения:**
- Уникальная регистрация: один email на один мастер-класс
- Индексы для быстрого поиска по email и мастер-классу

## Дополнительные модели

### UserProfile
Расширенный профиль пользователя с биографией, интересами и настройками уведомлений.

### Favorite
Избранные мастер-классы пользователей.

### Review
Отзывы о мастер-классах с рейтингами от 1 до 5 звезд.

### Notification
Системные уведомления для пользователей.

## Установка и запуск

1. **Клонирование репозитория:**
   ```bash
   git clone <repository-url>
   cd masterclass-registration-portal
   ```

2. **Установка зависимостей:**
   ```bash
   pip install -r requirements.txt
   ```

3. **Настройка окружения:**
   ```bash
   cp .env.example .env
   # Отредактируйте .env файл с вашими настройками
   ```

4. **Инициализация базы данных:**
   ```bash
   python3 init_db.py
   ```

5. **Тестирование настройки:**
   ```bash
   python3 test_setup.py
   ```

6. **Запуск приложения:**
   ```bash
   python3 app.py
   ```

## Администратор по умолчанию

После инициализации базы данных создается администратор по умолчанию:
- **Email:** admin@masterclass-portal.com
- **Пароль:** admin123

⚠️ **Важно:** Измените пароль администратора после первого входа в систему!

## Технологии

- **Backend:** Python 3.8+, Flask 2.3+
- **База данных:** SQLite 3
- **ORM:** SQLAlchemy 1.4+
- **Формы:** Flask-WTF
- **Email:** Flask-Mail
- **Frontend:** HTML5, CSS3, Bootstrap 5, JavaScript

## Требования

Проект реализует следующие основные требования:
- Просмотр и регистрация на мастер-классы
- Управление мастер-классами создателями ивентов
- Административная панель для управления системой
- Ролевая система доступа
- Email уведомления
- Валидация данных и обработка ошибок

## Следующие шаги

1. Реализация основных сервисов (UserService, MasterclassService, etc.)
2. Создание форм и валидации
3. Разработка маршрутов и контроллеров
4. Создание HTML шаблонов
5. Добавление JavaScript функциональности
6. Написание тестов